# ============================================
# Coderic Relay - Configuración
# ============================================
# 
# Copia este archivo a .env y ajusta los valores según tu entorno
# cp .env.example .env
#
# ============================================
# CONFIGURACIÓN BÁSICA
# ============================================

# Puerto del servidor Relay (default: 5000)
PORT=5000

# ID de instancia (útil para clustering, default: PID del proceso)
INSTANCE_ID=1

# ============================================
# REDIS (Opcional - Para escalabilidad horizontal)
# ============================================
# Redis se usa como adapter de Socket.io para sincronizar mensajes
# entre múltiples instancias de Relay.
#
# Si no configuras Redis, Relay funcionará en modo standalone.
# Para producción con múltiples instancias, Redis es recomendado.
#
# Ejemplos:
#   - Local: redis://localhost:6379
#   - Docker: redis://redis:6379
#   - Redis Cloud: redis://user:password@host:port
#
REDIS_URL=redis://localhost:6379

# ============================================
# KAFKA (Opcional - Para eventos asíncronos)
# ============================================
# Kafka se usa para publicar eventos asíncronos que pueden ser
# consumidos por otros sistemas (microservicios, analytics, etc.)
#
# Si no configuras Kafka, los eventos no se publicarán.
# Kafka es útil para integración con otros sistemas.
#
# Ejemplos:
#   - Local: localhost:9092
#   - Docker: kafka:9092
#   - Múltiples brokers: kafka1:9092,kafka2:9092,kafka3:9092
#
KAFKA_BROKERS=localhost:9092

# ============================================
# MONGODB PLUGIN (Opcional - Para persistencia)
# ============================================
# MongoDB es un plugin opcional que proporciona persistencia de:
#   - Mensajes enviados a través de Relay
#   - Conexiones de usuarios (conectados/desconectados)
#   - Eventos del sistema
#   - Logs de actividad
#
# Si no configuras MongoDB, Relay funcionará sin persistencia.
# MongoDB es útil para:
#   - Auditoría de mensajes
#   - Análisis histórico
#   - Recuperación de mensajes
#   - Reportes y estadísticas
#
# Ejemplos:
#   - Local: mongodb://localhost:27017
#   - Docker: mongodb://mongo:27017
#   - MongoDB Atlas: mongodb+srv://user:password@cluster.mongodb.net/dbname
#   - Con autenticación: mongodb://user:password@host:27017/dbname
#
MONGO_URL=mongodb://localhost:27017

# Nombre de la base de datos (default: relay)
MONGO_DB_NAME=relay

# Nombres de colecciones personalizadas (opcional)
# Si no se especifican, se usan los valores por defecto:
MONGO_COLLECTIONS_MESSAGES=messages
MONGO_COLLECTIONS_CONNECTIONS=connections
MONGO_COLLECTIONS_EVENTS=events
MONGO_COLLECTIONS_LOGS=logs

# ============================================
# NOTAS IMPORTANTES
# ============================================
#
# 1. Redis y Kafka son opcionales pero recomendados para producción
# 2. MongoDB es completamente opcional - Relay funciona sin él
# 3. Todas las configuraciones son opcionales excepto PORT
# 4. Para desarrollo local, puedes dejar las URLs por defecto
# 5. Para producción, configura todas las URLs según tu infraestructura
#
# ============================================
# EJEMPLOS DE CONFIGURACIÓN
# ============================================
#
# Desarrollo local (sin servicios externos):
#   PORT=5000
#   (Redis, Kafka y MongoDB no configurados)
#
# Desarrollo local (con Docker Compose):
#   PORT=5000
#   REDIS_URL=redis://redis:6379
#   KAFKA_BROKERS=kafka:9092
#   MONGO_URL=mongodb://mongo:27017
#
# Producción (con todos los servicios):
#   PORT=5000
#   REDIS_URL=redis://redis-cluster:6379
#   KAFKA_BROKERS=kafka1:9092,kafka2:9092,kafka3:9092
#   MONGO_URL=mongodb+srv://user:pass@cluster.mongodb.net/relay
#
