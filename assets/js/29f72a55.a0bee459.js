"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[284],{3351:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"instalacion","title":"Instalaci\xf3n","description":"Requisitos","source":"@site/docs/instalacion.md","sourceDirName":".","slug":"/instalacion","permalink":"/docs/instalacion","draft":false,"unlisted":false,"editUrl":"https://github.com/NeftaliYagua/tree/gh-pages/docs/instalacion.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Introducci\xf3n","permalink":"/docs/intro"},"next":{"title":"API de Eventos","permalink":"/docs/api"}}');var r=s(4848),a=s(8453);const d={sidebar_position:3},c="Instalaci\xf3n",t={},l=[{value:"Requisitos",id:"requisitos",level:2},{value:"Instalaci\xf3n con Docker (Recomendado)",id:"instalaci\xf3n-con-docker-recomendado",level:2},{value:"Servicios incluidos",id:"servicios-incluidos",level:2},{value:"Verificar instalaci\xf3n",id:"verificar-instalaci\xf3n",level:2},{value:"Instalaci\xf3n para desarrollo",id:"instalaci\xf3n-para-desarrollo",level:2},{value:"Variables de entorno",id:"variables-de-entorno",level:2},{value:"Estructura del stack",id:"estructura-del-stack",level:2}];function o(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"instalaci\xf3n",children:"Instalaci\xf3n"})}),"\n",(0,r.jsx)(n.h2,{id:"requisitos",children:"Requisitos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Docker y Docker Compose"}),"\n",(0,r.jsx)(n.li,{children:"Git"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"instalaci\xf3n-con-docker-recomendado",children:"Instalaci\xf3n con Docker (Recomendado)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Clonar el repositorio\ngit clone https://github.com/NeftaliYagua/Pasarela.git\ncd Pasarela\n\n# Cambiar a la rama v2\ngit checkout feature/v2-redis-kafka\n\n# Levantar el stack completo\ncd infraestructura\ndocker compose up -d\n"})}),"\n",(0,r.jsx)(n.h2,{id:"servicios-incluidos",children:"Servicios incluidos"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Servicio"}),(0,r.jsx)(n.th,{children:"Puerto"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Pasarela"}),(0,r.jsx)(n.td,{children:"5000"}),(0,r.jsx)(n.td,{children:"Gateway principal (4 instancias balanceadas)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Ejemplos"}),(0,r.jsx)(n.td,{children:"8000"}),(0,r.jsx)(n.td,{children:"Aplicaciones de ejemplo"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Grafana"}),(0,r.jsx)(n.td,{children:"3000"}),(0,r.jsx)(n.td,{children:"Dashboards (admin/admin)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Prometheus"}),(0,r.jsx)(n.td,{children:"9090"}),(0,r.jsx)(n.td,{children:"M\xe9tricas"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Kafka UI"}),(0,r.jsx)(n.td,{children:"8080"}),(0,r.jsx)(n.td,{children:"Administrador de Kafka"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Redis Commander"}),(0,r.jsx)(n.td,{children:"8081"}),(0,r.jsx)(n.td,{children:"Administrador de Redis"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"verificar-instalaci\xf3n",children:"Verificar instalaci\xf3n"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'# Health check\ncurl http://localhost:5000/health\n\n# Deber\xeda responder:\n# {"status":"ok","instance":"1","connections":0}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"instalaci\xf3n-para-desarrollo",children:"Instalaci\xf3n para desarrollo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd pasarela\nnpm install\nnpm run dev\n"})}),"\n",(0,r.jsx)(n.h2,{id:"variables-de-entorno",children:"Variables de entorno"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"PORT"})}),(0,r.jsx)(n.td,{children:"5000"}),(0,r.jsx)(n.td,{children:"Puerto del servidor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"REDIS_URL"})}),(0,r.jsx)(n.td,{children:"redis://localhost:6379"}),(0,r.jsx)(n.td,{children:"URL de Redis"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"KAFKA_BROKERS"})}),(0,r.jsx)(n.td,{children:"(vac\xedo)"}),(0,r.jsx)(n.td,{children:"Brokers de Kafka (opcional)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"INSTANCE_ID"})}),(0,r.jsx)(n.td,{children:"PID"}),(0,r.jsx)(n.td,{children:"ID de la instancia"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"estructura-del-stack",children:"Estructura del stack"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"infraestructura/\n\u251c\u2500\u2500 docker-compose.yml      # Orquestaci\xf3n\n\u251c\u2500\u2500 haproxy/\n\u2502   \u2514\u2500\u2500 haproxy.cfg         # Configuraci\xf3n del balanceador\n\u251c\u2500\u2500 prometheus/\n\u2502   \u2514\u2500\u2500 prometheus.yml      # Configuraci\xf3n de m\xe9tricas\n\u2514\u2500\u2500 grafana/\n    \u2514\u2500\u2500 provisioning/       # Dashboards y datasources\n"})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var i=s(6540);const r={},a=i.createContext(r);function d(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);